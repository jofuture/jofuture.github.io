학습목표 : AI 데이터분석분야에서 통계학이 가지는 의의를 찾고, 활용하는 통계학 개념학습

학습정리 기준 :

1\. 통계학이 데이터분석분야에서 **왜 필요한지** 확인할 것

2\. **H0, H1 가설정리** / **1종, 2종오류** / **검정통계량** / **p-value** / 신뢰구간 각각 키워드정리

3\. 검정 통계량중 **t-test**를 선택한 이유 / **one-sample t-test** 개념 및 python 실습

4\. **two-sample t-test** 개념 및 python 실습 + 심화(paired-sample t-test 하면좋고!)

5\. 하나의 데이터셋을 가지고 위의 flow로 간단한 python **실습** (@강의노트 참고)

### **머신러닝과 통계학**

통계학: 여러가지 현상에 대한 자료를 한 눈에 알아보기 쉽게 수치로 나타내는 것을 의미함

그리고 그런 수치를 통해서 우리는 일상생활에서 일어나는 일들을 이해하고 분석하고 그 안에서 쉽게 규칙을 찾을 수 있다.

ex) 어떤 데이터를 바탕으로 확률분포를, 그리고 그에 따른 결과를 도출하는 일련의과정에서 통계학이 많이 사용된다.

-   모집단  
    정보를 얻고자 하는 관심대상의 전체집합  
    특정 확률 분포를 따르는 확률변수들의 전체집합
-   표본집단  
    모집단내에서 일부분을 추출하여 관찰한 관측값

<img src="https://blog.kakaocdn.net/dn/l7B01/btrhykhtBqe/2TFoX4ATfHu8LzvjKb3qA1/img.jpg">

### **가설검증**

추론통계는 주어진 데이터 표본 특성으로부터 수학적 확률 이론을 토대로

그 데이터가 속해있을 것으로 예상되는 전체 모집단의 특성을 추론한다.

가설검정이란 그러한 전체 모집단의 특성에 대한 새로운 주장을 평가하는 절차를 얘기한다.

-   모집단에 대한 새로운 주장을 대립가설(Alternative hypothesis)이라고 하고  
    기존의 주장을 귀무가설(null hypothesis)이라고 한다.  
    한마디로 귀무가설은 기존과 다를 바 없다는 주장이고 대립가설은 기존과 다르다는 주장이다.
-   통계적 검정(statistical test) 또는 가설검정(hypothesis test)이란  
    표본 데이터를 기반으로 모집단에 대한 새로운 주장의옳고 그름을 추론하는 과정을 말함  
    일반적으로 새로운 주장은 분명하게 입증되지 않으면 받아들여지기가 쉽지 않다  
    따라서 대립가설을 새로운 사실로 받아들이기 위해서는 기존의 주장이 명백하게 잘못되었음을 입증해야된다.  
    이러한 입증과정을 가설 검정이라 한다  
    가설검정은 귀무가설이 현 상황을 제대로 설명하고 있다는 가정하에서 시작한다.  
    하지만 표본으로부터 얻은 통계량, 예를 들면표본으로부터 계산된 평균값이 귀무가설이 옳다는 전제하에서는  
    좀처럼 나타나기 어려운 극단적이고 예외적인 값이 나올 경우에는 계속해서 귀무가설이 옳다고 주장할수 없다.  
    이럴 경우에 귀무가설을 기각하고 대립가설을 채택하게 된다  
      
    

#### **가설검정 절차**

-   표본으로부터 검정하고자 하는 검정통계량(test statistic) rPtks
-   검정통계량과 그 확률분포로부터 p-값(p-value) 계산  
    \- p값 귀무가설이 사실이라는 가정하에서 관측한 통계량과 같거나 그보다 더 극단적인 값이 발생할 확률을 의미  
    \- 유의확률(significance probability)이라고도 함  
    \- 검정통계량 ( t값(자유도),f값,Chi-square값/카이제곱값 ) 귀무가설이 참이라는 가정 아래 얻은 통계량  
    \- 통계적 검정을 위해서는 그 통계량의 분포를 알아야 한다.  
    \- 
-   p-값이 매우 작으면 귀무가설 기각  
    \- 판단의 기준으로 사용하는 5% 또는 1%의 확률은 유의수준(significance level)이라고 함  
    \- 표본으로부터 관측된 결과(즉 계산된 통계량)가 나타날 가능성이 5% 미만또는  
      1% 미만이 되어 귀무가설을 기각하면 이를 통계적으로 유의하다(statistically sifnificant)라고 표현함

**가설검정과 검정력** 검정력이 클수록 잘못된 귀무가설을 기각할 가능성이 커진다.

<img src="https://blog.kakaocdn.net/dn/bjjn1L/btrhylglKrW/ClaexTc6Pr3amakOutb55k/img.jpg">

### **p-value는 무엇인가**

-   p-value: probability value (확률값)  
    무엇에 대한 확률값인가 ? '어떤 사건이 우연히 발생할 확률'
-   왜 하필 5%보다 작아야할까?  
    어떤 사건이 유연히 발생할 확률이 5%보다 작다는 의미가 된다.  
    이 말은 즉 이 사건이 우연히 일어났을 가능성이 거의 없다는 보고 분명이 뭔가 이유(인과관계)가   
    있다고 추정하는 것이다.  
    반대로 5% 보다 크면, 이 사건은 우연히 발생한 것이다 라고 생각하고 이 사건에는 어떠한 의미  
    즉, 인과관계가 없다고 판단하는 것이다.
-   여기서 기준이 되는 5%는 쉽게 말해 이정도면 우연은 아닐거야 라는 수준의 정도라는 것

### **신뢰구간**

<img src="https://blog.kakaocdn.net/dn/2rpsG/btrhyjbPeEe/8VsNZKGN3KjfN742R8NOpk/img.jpg">

### **평균검정**

-   평균에 대한 가설검정을 의미
-   선정한 표본이 특정 평균값을 갖는 모집단에 속하는지(즉 표본의 평균과 모집단의 평균이 동일한지  
    또는 두 표본집단의 평균값 간에 차이가 존재하는지(즉 두 표본집단이 동일한 모집단에 속하는지) 검정
-   일표본 평균검정 : 한개의 표본이 있을경우 그 표본의 평균과 모집단의 평균이 동일한지 여부를 검정할 수 있음  
    독립표본 평균검정 : 두 표본집단이 같은 평균값을 갖고 있는지의 여부를 검증할 수 있다  
    대응표본 평균검정 : 위와 동일

#### **t-검정**

-   평균에 대한 가설검정은 t검정(t-test)을 통해 수행
-   범주형 자료에 따른 연속형 자료의 차이를 볼 때 사용할 수 있다.
-   표본평균이 모집단평균과 동일한지 여부는 t값(t value, t-statistic)을 검정통계량으로 사용하여 검정  
    표본평균과 모집단평균의 차이를 표본평균의 표준편차인 표준오차로 나누어서 구하고 표준오차는 표본의 표준편차를 표본크기의 루트값으로 나누어서 계산할 수 있음 이렇게 계산되는 t값은 t분포를 따른다.

#### **검정 통계량중 t-test를 선택한 이유** 

두 모집단의 평균의 차이 유무를 판단하는 통게적 검정방법으로 

'두 모집단의 평균 간의 차이는 없다' 라는 귀무가설과

'두 모집단의 평균 간에는 차이가 있다' 라는 대립가설 중에 하나를 선택하는 통게적 검정 방법이다.

다음의 3가지 조건을 만족해야 한다.

-   자료는 모두 동일 간격을 가진 연속형 자료여야 한다는 조건
-   두 집단은 서로 독립적 이어야 한다는 조건
-   자료의 수치가 정규성을 가져야 한다는 조건이 있어야 사용 가능하다  
    또한 집단이 3개 이상일 경우 사용할 수 x

#### **t-분포**

<img src="https://blog.kakaocdn.net/dn/yKrQE/btrhAfNdzC2/vDAXBnWSBhg6fV6rMcHCk1/img.png">

자유도에 의해 분포의 모양이 결정되며 좌우 대칭인 종 모양의 분포를 갖는다.

자유도(degree of freedom) = 표본크기 - 1

-   t분포(t distribution)는 정규분포(Z분포)와 유사한  
    종 모양의 형태이며 정규분포에 비해 양쪽 꼬리부분의   
    면적이 더 두터운 모습
-   표본크기에 따라서 t분포의 종 모양이 변화
-   표본크기가 클수록 t분포의 종 모양이 뾰족해지며,  
    표본크기가 작을수록 정점이 낮아지면서 꼬리 부분의  
    면적이 더 커짐
-   표본크기가 충분히 커지면 t분포와 정규분포(Z분포)는  
    거의 구별이 되지 않음

<img src="https://blog.kakaocdn.net/dn/cQs6jZ/btrhqLfAO5Z/p3Lnwu8uN5XbZS0TTVtmyK/img.png">


t검정. 절대값으로 비교하여 관측된 t값이 유의수준 0.05에 대응되는 t값보다 크므로 귀무가설을 기각한다.

### **일표본 평균검정(one-sample t test)**

-   하나의 표본 데이터를 이용하여 모집단의 평균이 특정 값과 같은 지 검정
-   표본집단이 특정 모집단과 일치하는지 혹은 그렇지 않은지 알고 싶을때 이용  
    ex) 가구당 소득에 대한 표본 데이터를 바탕으로 기존에 알려진 우리나라의 가구당 소득이 맞는지

### **독립표본 평균검정(two-independent samples t test)**

-   두 개의 독립표본 데이터를 이용하여 각각 대응되는 두 개의 모집단평균이 서로 동일한지 검정
-   두집단이 서로 차이가 있는지 검정  
    ex) 남녀 간의 시험 점수에 차이가 있는지 검정하는 문제라면  
    귀무가설은 남녀 간의 시험 점수에 차이가 존재하지 않는다가 될것이고  
    대립가설은 남녀 간의 시험 점수에 차이가 존재한다가 될 것이다.  
    다른 방식으로도 표현할 수 있는데 남녀 간의 시험점수에 차이가 존재하지 않는다는 얘기는  
    남학생의 시험 점수의 평균에서 여학생의 시험 점수의 평균을 빼게 되면 그 값이 0이라는 것과 같은 의미를 갖는다.  
    그래서 귀무가설을 남녀 간의 시험점수의 차이는 0이다 라고 표현할 수 있고  
    그에 대응되는 대립가설은 남녀 간의 시험 점수의 차이는 0이 아니다와 같이 표현할수도 있다.  
      
    ex)흡연자와 비흡연자 간의 폐질환 발생률이 서로 차이가 있는지

### **대응표본 평균검정(paired-samples t test)**

-   독립표본 평균검정은 두 개의 표본이 서로 독립인 모집단으로부터 추출되었다는 가정을 전제로 함  
    \-> 한 표본의 관측값은 다른 표본의 관측값의 결정에 영향을 미치지 않는다는 뜻
-   두 표본의 값이 쌍(pair)을 이루고 있는 경우에 쌍을 이룬 값은 서로 독립이 아니며, 이처럼 검정하려고 하는  
    두개의 표본이 서로 독립이 아닌 모집단으로부터 추출되었을 때 대응표본 평균검정을 이용하여 두 집단 간의 차이 검정  
      
    서로 독립이 아닌 모집단으로부터 추출되었다면 독립표본 평균검정을 이용할 수 x  
    이런 경우에 적용할 수 있는 평균검정 방법을 대응표본 평균검정이라고 한다.

#### **독립표본 vs 대응표본**

-   독립표본 실험  
    무작위로 실험 대상자를 선정하여 두 개의 집단으로 나눔  
    한 집단에는 아침식사를 하고 IQ 테스트에 응하도록 하고, 다른 집단에는  
    아침식사를 거르고 IQ테스트에 참가하도록 함  
    각 실험 대상자에 대해 하나씩의 IQ테스트 점수를 얻게 됨
-   대응표본 실험  
    무작위로 실험 대상자를 선정  
    각 실험 대상자를 대상으로 IQ테스트를 두 차례 실시  
    한 번은 아침식사를 하고 테스트에 응하도록 하고, 다른 한 번은 아침식사를 하지  
    않은 상태에서 테스트에 참가하도록 함  
    각 실험 대상자에 대해 두 개의 IQ 테스트 점수를 얻게 됨

#### **one-sample t-test** 

한 개의 집단을 가지고 t-test를 하는것이다. 즉, 한 집단의 평균값이 내가 생각한 값과 다른지 비교할 때 시행하는 것

ex) A대학의 평균키 179.3cm가 통계적으로 180cm으로 볼 수 있는건지

#### **two-sample t-test** 

두 집단을 비교하는 것. 예를들어, A대학의 평균키와 B대학의 평균키를 비교할때 사용

#### **Paired t-test (대응표본검정)**

샘플은 one-sample test처럼 1개이지만, 시간적으로 다른 시점에서의 값들을 비교할 때 사용하는 것

예를들어, A대학의 학생의 시험 평균이 76점이었고, 새로운 교육방식을 도입한 후 시험 평균이 84점일 때 새로운  
교육방식이 효과가 있는지 알아보기 위해 before와 after를 비교하는 것

공식은 one-sample test 와 같은 것을 사용한다.

기타출처: https://www.youtube.com/watch?v=AovOoq4p3nY&list=PLalb9l0\_6WArHh18Plrn8uIGBUKalqsf-&index=4
